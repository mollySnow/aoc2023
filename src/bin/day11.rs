use aoc2023::grid::{Point, Direction, CharGrid};
use aoc2023::utils::run;

fn part1(input: &str) -> i32 {
    let mut cg = CharGrid::new(input);
    for r in cg.rows_where(|r| r == '.').into_iter().rev() {
        let _ = cg.clone_row(r);
    }
    for c in cg.columns_where(|c| c == '.').into_iter().rev() {
        let _ = cg.clone_column(c);
    }

    let points = cg.points_where(|c| c == '#');

    let mut sum = 0;
    for (i,p1) in points.iter().enumerate() {
        for p2 in points.iter().skip(i+1) {
            // sum += p1.path_to(p2).len();
            sum += p1.distance(p2);
        }
    }

    sum
}


fn part2(input: &str) -> u32 {
    0
}

fn main() {
    run(r#"...#......
.......#..
#.........
..........
......#...
.#........
.........#
..........
.......#..
#...#....."#, part1, Some(374));

    run(INPUT, part1, Some(9965032));
}

#[allow(dead_code)]
const INPUT: &str = r#"..............................................#......#...............................................#..........................#...........
.....#......................................................#.............................#.................................................
............#...................#........#....................................#..............................#...........#..................
...............................................................................................#............................................
.#....................#...........................#......................................................#...........#.....................#
............................................................................................................................................
...................................#.......................#...........................#....................................................
....#...................................................................#......#..................#.............#...................#.......
..............................................#.............................................................................................
...........#.............................#......................#...........................................................................
...................#.........#..............................................................................................#...............
.....................................................#.....................#...................#..........#...............................#.
...............#................................#.......................................................................#...................
....#..............................#......................................................#...........#..........................#..........
..............................................................#.............................................................................
...........................#.................#...............................................................#.....#..................#.....
.......#...........#..............................................................#.........................................................
..............#...........................................................................................................................#.
...............................#..................#.........................................................................................
..#............................................................................#............................................#...............
.........................#..........#.....................................#.................#...................#...........................
.................#......................................#............................#................................#................#....
.......................................................................................................#....................................
.....#................#........................................#............................................................................
........................................................................#................................................#..................
...........................................#...................................#..............................#.............................
..........................#..............................#..........................................................#.....................#.
..#............#......................................................................#..........................................#..........
................................................#..............................................#............................................
.......................................#..............................................................................................#.....
.....#......................#.................................#............................................................#................
................................................................................#..........................................................#
#.........#...........................................................................................#.....................................
.....................................................................................................................#...........#..........
...........................................................#..............................#.................................................
..............#.......#.........#........................................#...........................................................#......
......................................#.....#.....................#..........................................................#..............
...........................#............................#.........................................#......................................#..
...#...............#...........................................................#.....#..........................#...........................
...................................#........................................................................................................
............#....................................#.............#..........................................#..........#..............#.......
.......................#................................................................#...................................................
......#...............................#...............#.................................................................................#...
#..............#...........................#................................................................................................
............................#.............................#................................................................#................
..........#........#..............................................#...................#........#...............#............................
.......................................................................................................................#....................
.........................................#..............................#.....#.............................................................
.....................................................................................................................................#......
.....................................................#......................................................................................
........#.....#....................................................#..................................#.....................................
.....................#.........................#.......................................#...................................#................
...#.........................#..........................#..........................................................#............#...........
............................................................................................................................................
...........#...................................................#.............................#..............................................
..................#.........................................................................................#...............................
..........................#................................#..........................................#.....................................
................................#.....#...................................#............#....................................................
..............#............................#.......................#............#............................................#..............
.....#..................................................#.........................................#............#.....#.....................#
............................................................................................................................................
........................................#...............................................................#...................................
.....................................................#......#.................................#.............................................
..........#............................................................................................................#........#...........
............................................................................................................................................
.#................#.......#.......................#...................#.....#.........................#................................#....
...............................#..................................................#..............................#..........................
........#....................................#....................#......................#..................................................
............................................................................................................................................
.........................................................#...................................................#.........#....................
..............................................................#..............................................................#..............
......................................#...........#.........................#........................#................................#.....
.....................#......#...............#...............................................................................................
............#.......................................................................................................#...........#...........
...................................................................#......................................#...............................#.
...#................................#..........................................................................#............................
.........#.....................................................#............................................................................
..............................................................................#....................#........................................
.................#.....................................#.............................#.............................#....................#...
........................#......#.............#..............................................................................................
.....................................................................#.....................................#...............#................
............................................................................................................................................
#..............................................................................................#............................................
.................................#......................................#..............#....................................................
.................................................#.....................................................................................#....
...#...............#.....................#......................................#........................................#..................
........................#......................................#...........................................#.......................#........
....................................................#.....................#................#.........#......................................
............#...............................................................................................................................
...........................................................#.........................#.........................................#............
.....................................#............................#.........................................................................
......#.............................................................................................................#.......................
....................#...........#.............#...............#.........................#................................#...........#......
.........................................#.....................................#............................#...............................
...........#............................................#...................................................................................
.................................................................................................................................#..........
...#..............................................................#.............................#.................#.........#............#..
......................#..............................................................#................#................#....................
.........#.....................#......................................#.....................................................................
.........................................................................................#..................#...............................
.................#.........................#..............#...............................................................#.................
.....#...............................................#............................#.........................................................
....................................................................................................................#.......................
..........#..........#.......#................#......................#........#............#.......#........................................
...................................#.....#..................................................................................................
.............................................................#.........................#.........................#......#...................
.........................................................................#.......#.......................#........................#.........
.......................#.........................................................................#...........................#..............
........#.........#.........#...................#...........................................................................................
#.........................................................#............................................................................#....
........................................................................................#............#......................................
..................................#........................................................................................................#
..............#.....#.....................#..............................#.......................................#..........................
...#..........................................................#.............................................................................
.........#.......................................#............................#...............#..........................#........#.........
...........................#.................................................................................#..............................
.........................................................................................#...........................#......................
.....................................................................#.................................................................#....
.....#..................#.......#.........#.................#................................................................#..............
.....................................#................#....................................................#.......................#........
...............................................#............................................................................................
...........#........#.......#...................................................#...........................................................
................................................................#...........................................................................
................#............................................................................#..............................................
#......................#...............................................................................................#....................
.................................#...............................................................................#............#..........#..
.....#..........................................#..........#..........................................#.....................................
...........................................#...................................#.................#..........................................
..........#.......#...........#...............................................................................#.............................
.......................................#............................................................................................#.......
...................................................#.....................................................................#..................
#......................#........................................#..........................#...............#................................
.............................................................................................................................#..............
.............................................#.........................#..............#.....................................................
.......#.............................................#.......#...................................................................#..........
............#.....#.....................#..............................................................#............#.....#.................
...#.........................#................................................................................#.............................
...............................................#..................#.........................................................................
...................................#....................................#.......#........#.........#..........................#.............
..........#.....#......................................................................................................#..............#....."#;
